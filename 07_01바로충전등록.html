<!DOCTYPE html>
<html lang="ko" dir="ltr">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width, viewport-fit=cover"> -->
    <meta name="viewport" content="user-scalable=0, initial-scale=1.0, maximum-scale=1.0, width=device-width, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=yes">
    <title>Energy Plus EV App</title>

    <!-- Library CSS -->
    <link rel="stylesheet" href="lib/swiper/swiper-bundle.min.css">
    <!-- 20201211 accordion 추가-->
    <link rel="stylesheet" href="lib/accordion-js/accordion.min.css">
    <link rel="stylesheet" href="css/ep-style.css">
    <!-- // Library CSS -->

    <!-- Library JS -->
    <!-- <script src="https://unpkg.com/vue/dist/vue.min.js"></script> vue CDN -->
    <!--<script src="https://unpkg.com/buefy/dist/buefy.min.js"></script>  buefy CDN -->
    <script src="lib/swiper/swiper-bundle.min.js"></script>
    <!-- 20201211 lottie-player 추가-->
    <script src="lib/lottie/lottie-player.js"></script>
    <!-- 20201211 accordion 추가-->
    <script src="lib/accordion-js/accordion.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.13/lottie.min.js"></script>

    <!-- // Library JS -->
    <script src="js/ui.js"></script>
</head>

<body>
    <div class="skipNavi">
        <a href="#">본문 바로가기</a>
    </div>
    <div id="wrap" role="main">
        <!-- Header -->
        <header id="header">
            <div class="inner">
                <a href="#" class="is-back">
                    <i class="icon-arrow-left"></i>
                    <span class="blind">이전</span>
                </a>
                <div class="has-text-centered">
                    <h2 class="title is-3">바로충전 등록</h2>
                </div>
            </div>
        </header>
        <!-- // Header -->
        <div id="container">
            <!-- Contents -->
            <!--2020/12/29 수정 type-2 클래스 추가 (footer 하단 없을 경우) -->
            <div id="contents" class="container type-2">
                <div class="inner is-padding-top">
                    <!-- accordion -->
                    <div class="accordion-container baro">
                        <!-- 2021-03-31 D: 결제비밀번호 키패드 출력시 [has-keypad] add-->
                        <ul class="baro-list has-keypad">
                            <!-- step 03 -->
                            <li class="ac baro-step">
                                <div class="baro-item">
                                    <div class="ac-header baro-header">
                                        <div class="ac-trigger">
                                            <!-- title -->
                                            <div class="level">
                                                <div class="level-left">
                                                    <h3 class="title">
                                                        회원카드
                                                    </h3>
                                                    <!-- 완료후 타이틀 -->
                                                    <!-- <h3 class="title">현장할인카드</h3> -->
                                                </div>
                                                <div class="level-right">
                                                    <!-- 수정버튼 / 완료(is-completed) 상태에서만 보임 -->
                                                    <div class="modify-area">
                                                        <button class="btn-modify">수정</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ac-panel baro-panel">
                                        <div class="ac-content baro-content">
                                            <ul>
                                                <li>
                                                    <!-- 활성화 is-active 클래스 추가 -->
                                                    <div class="box-credit-card is-active">
                                                        <div>
                                                            <h4 class="title is-5">기아 충전혜택</h4>
                                                            <!-- 2021-03-19 보너스카드 마스킹 삭제 -->
                                                            <small class="mblock">123*********</small>
                                                        </div>
                                                        <div class="credit-card-info">
                                                            <div>
                                                                <span class="left-area">무료잔여한도 </span>
                                                                <span>
                                                                    <strong class="is-family-secondary">55.2</strong>
                                                                    / <span class="is-family-secondary">100kWh</span>월
                                                                </span>
                                                            </div>
                                                            <div class="is-gray-text">
                                                                <span class="left-area is-gray-text">무료 소진시 할인(회원)단가적용<span> 222.2원</span></span>
                                                            </div>
                                                            <div class="is-gray-text">
                                                                <span class="left-area is-gray-text">혜택기간</span>
                                                                <span class="is-family-secondary">~ 2021-11-30</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="box-credit-card">
                                                        <div>
                                                            <h4 class="title is-5">GS&Point</h4>
                                                            <!-- 2021-03-16 보너스카드 마스킹 삭제 -->
                                                            <small class="mblock">123*********</small>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                            <div>
                                                <button class="button is-fullwidth is-outline">다음단계</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!-- // step 03 -->
                            <!-- step 01 활성화 : is-active 클래스 추가 / 완료 : is-completed 클래스 추가 -->
                            <li class="ac baro-step is-active">
                                <div class="baro-item">
                                    <div class="ac-header baro-header">
                                        <div class="ac-trigger">
                                            <!-- title -->
                                            <div class="level">
                                                <div class="level-left">
                                                    <h3 class="title">충전방식/충전량</h3>
                                                    <!-- 완료후 컨텐츠 -->
                                                    <!-- <h3 class="title">휘발유, 5만원, 붕붕이</h3> -->
                                                </div>
                                                <div class="level-right">
                                                    <!-- 수정버튼 / 완료(is-completed) 상태에서만 보임 -->
                                                    <div class="modify-area">
                                                        <button class="btn-modify">수정</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ac-panel baro-panel">
                                        <div class="baro-content">
                                            <dl>
                                                <!-- 유종 -->
                                                <dt>충전방식</dt>
                                                <dd>
                                                    <ul class="oil-items">
                                                        <li>
                                                            <div class="field">
                                                                <label class="radio">
                                                                    <input type="radio" name="oil" checked>
                                                                    <strong>충전율</strong>
                                                                </label>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="field">
                                                                <label class="radio">
                                                                    <input type="radio" name="oil">
                                                                    <strong>충전량</strong>
                                                                </label>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="field">
                                                                <label class="radio">
                                                                    <input type="radio" name="oil">
                                                                    <strong>시간</strong>
                                                                </label>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="field">
                                                                <label class="radio">
                                                                    <input type="radio" name="oil">
                                                                    <strong>금액</strong>
                                                                </label>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </dd>
                                                <!-- 주유금액 -->
                                                <dt>충전율</dt>
                                                <dd>
                                                    <!-- 
                                                        * disabled일 경우 is-disabled 클래스 추가
                                                    -->
                                                    <div class="slider-area baro-slider">
                                                        <vue-slider v-model="value" :interval="1" :marks="true" :tooltip="'always'" :data="data" :data-value="'id'" :data-label="'name'"></vue-slider>
                                                    </div>
                                                </dd>
                                                <!-- 별칭 -->
                                                <!-- 2020/12/29 수정 (닉네임 -> 별칭)-->
                                                <dt>별칭</dt>
                                                <dd>
                                                    <div class="field">
                                                        <div class="control">
                                                            <input type="text" class="input" maxlength="6" value="붕붕이">
                                                            <!--2021-01-08 삭제 -->
                                                            <!-- <button class="btn-refresh"><span class="blind">새로고침</span></button> -->
                                                        </div>
                                                    </div>
                                                </dd>
                                            </dl>
                                            <div>
                                                <!-- 2021-01-07 수정
                                                - 버튼 클릭시 해당 baro-step에 is-active 제거하고 다음 baro-step에 is-active 추가 
                                                - 해당 baro-step의 ac-panel의 max-height 값을 0으로 설정, 다음 baro-step의 ac-panel의 max-height 값을 설정해줌
                                                -->
                                                <button class="button is-outline is-fullwidth">다음단계</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!-- // step 01 -->
                            <!-- step 02 / 완료 : is-completed 클래스 추가 -->
                            <li class="ac baro-step">
                                <div class="baro-item">
                                    <div class="ac-header baro-header">
                                        <div class="ac-trigger">
                                            <!-- title -->
                                            <div class="level">
                                                <div class="level-left">
                                                    <h3 class="title">포인트 사용</h3>
                                                    <!-- 완료후 컨텐츠 -->
                                                    <!-- <h3 class="title">
                                                        <span class="mblock">포인트 자동사용,</span>
                                                        <span class="mblock">쿠폰 자동사용</span>
                                                    </h3> -->
                                                </div>
                                                <div class="level-right">
                                                    <!-- 수정버튼 / 완료(is-completed) 상태에서만 보임 -->
                                                    <div class="modify-area">
                                                        <button class="btn-modify">수정</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ac-panel baro-panel">
                                        <div class="ac-content baro-content">
                                            <dl>
                                                <dt class="level">
                                                    <div class="level-left">포인트</div>
                                                    <div class="level-right">
                                                        <!-- GS 포인트 -->
                                                        <div class="is-border-rounded gs-point-area">
                                                            <span class="gs-point">13,123</span>
                                                        </div>
                                                    </div>
                                                </dt>
                                                <dd>
                                                    <div class="radio-area">
                                                        <div class="field">
                                                            <div class="control">
                                                                <label class="radio">
                                                                    <input type="radio" name="foo">
                                                                    <i></i>
                                                                    <strong>사용 안 함</strong>
                                                                </label>
                                                                <label class="radio">
                                                                    <input type="radio" name="foo" checked>
                                                                    <i></i>
                                                                    <strong>자동 사용</strong>
                                                                    <span class="is-gray-text">1,000P 씩 사용</span>
                                                                </label>
                                                                <label class="radio">
                                                                    <input type="radio" name="foo" checked>
                                                                    <i></i>
                                                                    <strong>자동 사용</strong>
                                                                    <span class="is-gray-text">2,000P 씩 사용</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </dd>
                                                <dd>
                                                    <div class="radio-area">
                                                        <div class="field die">
                                                            <div class="control">
                                                                <label class="radio">
                                                                    <input type="radio" name="foo">
                                                                    <i></i>
                                                                    <strong>직접입력</strong>
                                                                </label>
                                                                <div class="die is-none-click">
                                                                    <input type="text" class="input" maxlength="6" value="0">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </dd>
                                            </dl>
                                            <div>
                                                <button class="button is-outline is-fullwidth">다음단계</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!-- // step 02 -->
                            <!-- step 04 -->
                            <li class="ac baro-step">
                                <div class="baro-item">
                                    <div class="ac-header baro-header">
                                        <div class="ac-trigger">
                                            <!-- title -->
                                            <div class="level">
                                                <div class="level-left">
                                                    <h3 class="title">결제카드</h3>
                                                    <!-- 완료후 컨텐츠 -->
                                                    <!-- <h3 class="title">롯데카드 1234</h3> -->
                                                </div>
                                                <div class="level-right">
                                                    <!-- 수정버튼 / 완료(is-completed) 상태에서만 보임 -->
                                                    <div class="modify-area">
                                                        <button class="btn-modify">수정</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ac-panel baro-panel">
                                        <div class="ac-content baro-content">
                                            <div class="box-point-list type-3 is-disabled">
                                                <button type="button" class="btn-enrollment-card is-disabled"><!-- disabled : is-disabled 클래스 추가 -->
                                                    <i class="ico-plus"></i>결제카드 추가
                                                    <div class="point-text2">
                                                        신용/체크/법인카드 가능 최대 5개 등록 가능
                                                    </div>
                                                </button>
                                            </div>
                                            <!-- 2020/12/21 수정 : 클래스 이름 변경 (list-credit-card) -->
                                            <ul class="list-credit-card">
                                                <li>
                                                    <div class="box-credit-card is-active">
                                                        <div>
                                                            <!-- 2021-03-19 카드번호 마스킹처리 -->
                                                            <h4 class="title is-5">롯데카드 <span>1234 **** **** 1234</span></h4>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="box-credit-card">
                                                        <div>
                                                            <h4 class="title is-5">롯데카드 <span>3232 **** **** 1323</span></h4>
                                                            <button class="btn-trash">
                                                                <span class="blind">삭제</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                            <div>
                                                <button class="button is-fullwidth is-outline">등록완료</button>
                                                <!-- 비활성 버튼 -->
                                                <!-- <button class="button is-fullwidth is-nonebtn">등록완료</button> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!-- // step 04 -->
                        </ul>
                    </div>
                </div>
            </div>
            <!-- // Contents -->
        </div>
    </div>
    <!-- 2021-01-14 수정
        * vue-slider-component : /lib/vue-slider 추가함
        * 임시로 cdn으로 설정
    -->
    <!-- cdn -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vue-slider-component@latest/theme/default.css">
    <script src="https://cdn.jsdelivr.net/npm/vue-slider-component@latest/dist/vue-slider-component.umd.min.js"></script>
    <!-- <link rel="stylesheet" href="/lib/vue-slider/default.css">
    <script src="/lib/vue-slider/vue-slider-component.umd.min.js"></script> -->
    <script>
        new Vue({
            el: '#container',
            data() {
                return {
                    value: 30,
                    data: [{
                        id: 30,
                        name: '30%',
                    }, {
                        id: 40,
                        name: '40%',
                    }, {
                        id: 50,
                        name: '50%',
                    }, {
                        id: 60,
                        name: '60%',
                    }, {
                        id: 70,
                        name: '70%',
                    }, {
                        id: 80,
                        name: '80%',
                    }, {
                        id: 90,
                        name: '90%',
                    }, {
                        id: 99,
                        name: '99%',
                    }]
                }
            },
            components: {
                'vueSlider': window['vue-slider-component'],
            }
        })
        // accordion
        new Accordion('.accordion-container', {
            duration: 400,
            openOnInit: [0]
        });
        // 다음단계버튼 클릭 이벤트
        var btnStep = document.querySelectorAll('.button');
        var baroStep = document.querySelectorAll('.baro-step');
        for (var i = 0; i < btnStep.length; i++) {
            btnStep[i].setAttribute('data-index', i)
            baroStep[i].setAttribute('data-index', i)
            btnStep[i].onclick = function() {
                var index = parseInt(this.dataset.index);
                if (index == btnStep.length - 1) {
                    location.reload();
                    return;
                }
                // check and transition collapse for 0.1 sec
                completeCurrentStep(index);
                // expand next step after 0.1 sec
                setTimeout(function() {
                    activateNextStep(index + 1);
                }, 100);
            }
        }
        // current step complete
        function completeCurrentStep(index) {
            var objNextStep = baroStep[index];
            objNextStep.classList.remove('is-active');
            // ac-panel : height는 0 으로 설정 (slideUp)
            objNextStep.querySelector('.ac-panel').style.height = 0;
            objNextStep.classList.add('is-completed');
        }
        // show next step
        function activateNextStep(index) {
            var objNextStep = baroStep[index];
            objNextStep.classList.add('is-active');
            var objAcPanel = objNextStep.querySelector('.ac-panel');
            objAcPanel.style.height = objAcPanel.scrollHeight + 'px';
        }
        // 결제비밀번호 key-code 포커스시 on 클래스 추가
        var keyCodes = document.querySelectorAll('.key-code-input');
        keyCodes.forEach(keyCode => {
            keyCode.addEventListener('focus', event => {
                keyCode.parentNode.classList.add('on');
            });
        });
    </script>
</body>

</html>